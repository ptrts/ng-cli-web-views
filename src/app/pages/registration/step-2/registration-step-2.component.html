<div class="container">
  <div class="row">
    <div class="col-6">

      <h1>Шаг 2</h1>

      <form [formGroup]="form" autocomplete="off">

        <div *ngFor="let addressViewModel of addressesViewModel"
             [formGroupName]="addressViewModel.formGroupName"
             #ec="emptyChecker"
             [addressFormGroupEmptyChecker]="ec"
        >

          <p>{{addressViewModel.header}}</p>

          <div class="form-group">

            <input type="text" class="form-control"
                   placeholder="Регион*"
                   maxlength="75" pattern="[а-яА-ЯёЁ\s\-]*"
                   formControlName="region">

            <app-validation-message></app-validation-message>

          </div>

          <div class="form-group">

            <input type="text" class="form-control"
                   placeholder="Город*"
                   maxlength="75" pattern="[а-яА-ЯёЁ\s\-]*"
                   formControlName="city">

            <app-validation-message></app-validation-message>

          </div>

          <div class="form-group">

            <input type="text" class="form-control"
                   placeholder="Улица*"
                   maxlength="75" pattern="[а-яА-ЯёЁ\s\-]*"
                   formControlName="street">

            <app-validation-message></app-validation-message>

          </div>

          <div class="form-group">

            <div class="d-flex">
              <input type="text" class="form-control"
                     placeholder="Дом*" size="1"
                     maxlength="5" pattern="[\dа-яА-ЯёЁ\s\-]*"
                     formControlName="house">
              <input type="text" class="form-control ml-2"
                     placeholder="Корпус" size="1"
                     maxlength="5" pattern="[\dа-яА-ЯёЁ\s\-]*"
                     formControlName="building">
              <input type="text" class="form-control ml-2"
                     placeholder="Строение" size="1"
                     maxlength="5" pattern="[\dа-яА-ЯёЁ\s\-]*"
                     formControlName="subBuilding">
              <input type="text" class="form-control ml-2"
                     placeholder="Квартира" size="1"
                     maxlength="5" pattern="[\dа-яА-ЯёЁ\s\-]*"
                     formControlName="flat">
            </div>

            <app-validation-message></app-validation-message>

          </div>

        </div>

        <div class="form-group">

          <label class="form-control-label" for="email">Адрес электронной почты*</label>

          <input type="text" class="form-control" id="email"
                 placeholder="address@mail.ru"
                 required maxlength="75" pattern="^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$"
                 formControlName="email">

          <app-validation-message></app-validation-message>

        </div>

        <div class="d-inline-flex mt-5 justify-content-center" [class.disabled]="form.valid">
          <button class="btn btn-success btn-lg text-center mb-3" (click)="onNextClick()">Далее</button>
        </div>

      </form>

    </div>

    <!--<div class="col-5 align-self-center">
      <p>
        Статус формы: {{form.status}}
      </p>

      <p>
        Значение формы: {{JSON.stringify(form.value)}}
      </p>
    </div>-->
  </div>
</div>
